import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as s,s as u}from"./storage-DDbOanX3.js";import{doInitConfig as m}from"./content.js-wL9tBlZK.js";function l(){s("config").then(e=>{const t=document.querySelector(".main");t.replaceChildren();for(let[o,n]of Object.entries(e)){const c=document.createElement("div");c.className="config-container";const a=document.createElement("span");a.className="config-item",a.innerText=o;const i=document.createElement("input");i.type="number",i.className="config-value",i.value=n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),c.appendChild(a),c.appendChild(i),t.appendChild(c)}}).catch(e=>{e==="emptyKey"&&r(),console.error(e)})}function f(){const e=document.querySelectorAll(".config-item"),t=document.querySelectorAll(".config-value"),o={};o.config={};for(let n=0;n<e.length;n++)o.config[e[n].innerText]=t[n].value;u({config:o.config}).then(n=>{console.log("config values updated OK")})}function r(){chrome.storage.local.remove("config"),m().then(e=>{setTimeout(()=>{l()},50),console.log("config values reset to default")})}const g=document.querySelector("#update-config-btn");g.addEventListener("mouseup",f);const d=document.querySelector("#reset-config-btn");d.addEventListener("mouseup",r);l();
